<!DOCTYPE html>
<html>
<head>
  <title>EPN Profile</title>
  <style>
    body {
      background-color: rgb(255, 255, 255);
      color: rgb(255, 255, 255);
      margin: 0;
      padding: 0;
    }
    nav {
      background-color: #0b0564;
      padding: 9px;
    }
    nav ul {
      list-style-type: none;
      margin: 0;
      padding: 0;
    }
    nav ul li {
      display: inline-block;
    }
    nav ul li a {
      color: rgb(255, 249, 249);
      text-decoration: none;
      padding: 10px;
    }
    nav ul li:hover ul {
      display: block;
    }
    nav ul ul {
      display: none;
      position: absolute;
      background-color: #1d1a1a;
      border-radius: 0 0 10px 10px;
    }
    nav ul ul li {
      display: block;
    }
    nav ul ul li a {
      padding: 10px;
    }
    .image-banner {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 95px; 
      background-color: #f0f0f0;
    }
    .image-banner img {
      max-width: 100%;
      max-height: 100%;
    }
    .login-form {
      max-width: 300px;
      margin: 0 auto;
      background-color: #0b0564;
      padding: 20px;
      border-radius: 10px;
      margin-top: 20px;
    }
    .login-form label,
    .login-form input {
      display: block;
      width: 100%;
      margin-bottom: 10px;
    }
    .login-form input[type="submit"] {
      background-color: #eb0000;
      color: #fff;
      border: none;
      padding: 10px;
      border-radius: 5px;
      cursor: pointer;
    }
    .description {
      font-size: 18px;
      margin: 20px 0;
    }
    .warning {
      color: red;
      font-size: 12px;
      display: none;
    }
  </style>
</head>
<body>
  <div class="image-banner">
    <img src="https://www.epn.edu.ec/wp-content/uploads/2022/08/logo-epn-vertical.png" alt="Descripción de la imagen">
  </div>
  <nav>
    <ul>
      <li><a href="#">Home</a>
        <ul>
          <li><a href="#">Subpágina 1</a></li>
        </ul>
      </li>
      <li><a href="#">Calendario</a>
        <ul>
          <li><a href="#">Subpágina 1</a></li>
        </ul>
      </li>
      <li><a href="#">Recuperar Cuenta</a>
        <ul>
          <li><a href="#">Subpágina 1</a></li>
        </ul>
      </li>
    </ul>
  </nav>
  <div class="login-form">
    <h2>Iniciar sesión</h2>
    <form id="loginForm">
      <label for="username">Usuario:</label>
      <input type="text" id="username" name="username" required>
      <span id="usernameWarning" class="warning">El formato del usuario debe ser nombre.apellido@epn.ec</span>
      <label for="password">Contraseña:</label>
      <input type="password" id="password" name="password" required>
      <span id="passwordWarning" class="warning">Contraseña incorrecta</span>
      <input type="submit" value="Iniciar sesión">
    </form>
  </div>
  <div class="description">
  </div>
  <script>
    var loginAttempts = 0; // Conteo de errores inicio de sesion 

    document.getElementById("loginForm").addEventListener("submit", function(event) {
      event.preventDefault();
      var username = document.getElementById("username").value;
      var password = document.getElementById("password").value;

      var emailPattern = /^[A-Za-z0-9._%+-]+@epn\.ec$/; // Con esto validamos el formato tipo correo electrónico
      
      if (!emailPattern.test(username)) {
        document.getElementById("usernameWarning").style.display = "block";
        return;
      }
      
      if (username === "nombre.apellido@epn.ec" && password === "12345678") {
        window.location.href = "perfilEPN.html"; // Pagina de inicio de sesion
      } else {
        loginAttempts++; // Contador de errores

        if (loginAttempts >= 3) {
          window.location.href = "Error sesion.html"; // Aquí colocamos la página de intentos fallidos
        } else {
          document.getElementById("passwordWarning").style.display = "block";
        }
      }

      console.log("Usuario: " + username);
      console.log("Contraseña: " + password);
    });
  </script>
</body>
</html>
